// <auto-generated />
using System;
using Koinon.Infrastructure.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using NpgsqlTypes;

#nullable disable

namespace Koinon.Infrastructure.Migrations
{
    [DbContext(typeof(KoinonDbContext))]
    [Migration("20260103003548_AddCommunicationPreference")]
    partial class AddCommunicationPreference
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.0")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.HasPostgresExtension(modelBuilder, "postgis");
            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("Koinon.Domain.Entities.Attendance", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("AttendanceCodeId")
                        .HasColumnType("integer")
                        .HasColumnName("attendance_code_id");

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<int?>("CheckedOutByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("checked_out_by_person_alias_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int?>("DeclineReasonValueId")
                        .HasColumnType("integer")
                        .HasColumnName("decline_reason_value_id");

                    b.Property<int?>("DeviceId")
                        .HasColumnType("integer")
                        .HasColumnName("device_id");

                    b.Property<bool?>("DidAttend")
                        .HasColumnType("boolean")
                        .HasColumnName("did_attend");

                    b.Property<DateTime?>("EndDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("end_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsFirstTime")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_first_time");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Note")
                        .HasColumnType("text")
                        .HasColumnName("note");

                    b.Property<int>("OccurrenceId")
                        .HasColumnType("integer")
                        .HasColumnName("occurrence_id");

                    b.Property<int?>("PersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("person_alias_id");

                    b.Property<int?>("PresentByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("present_by_person_alias_id");

                    b.Property<DateTime?>("PresentDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("present_date_time");

                    b.Property<DateTime?>("ProcessedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("processed_date_time");

                    b.Property<int?>("QualifierValueId")
                        .HasColumnType("integer")
                        .HasColumnName("qualifier_value_id");

                    b.Property<int>("RSVP")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(3)
                        .HasColumnName("rsvp");

                    b.Property<bool>("RequestedToAttend")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("requested_to_attend");

                    b.Property<bool>("ScheduleConfirmationSent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("schedule_confirmation_sent");

                    b.Property<int?>("ScheduledByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("scheduled_by_person_alias_id");

                    b.Property<bool>("ScheduledToAttend")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("scheduled_to_attend");

                    b.Property<DateTime>("StartDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("start_date_time");

                    b.HasKey("Id");

                    b.HasIndex("AttendanceCodeId")
                        .HasDatabaseName("ix_attendance_code_id");

                    b.HasIndex("DeviceId")
                        .HasDatabaseName("ix_attendance_device_id");

                    b.HasIndex("DidAttend")
                        .HasDatabaseName("ix_attendance_did_attend")
                        .HasFilter("did_attend = true");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_attendance_guid");

                    b.HasIndex("OccurrenceId")
                        .HasDatabaseName("ix_attendance_occurrence_id");

                    b.HasIndex("PersonAliasId")
                        .HasDatabaseName("ix_attendance_person_alias_id");

                    b.HasIndex("StartDateTime")
                        .HasDatabaseName("ix_attendance_start_date_time");

                    b.ToTable("attendance", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AttendanceCode", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasColumnName("code");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<DateOnly>("IssueDate")
                        .HasColumnType("date")
                        .HasColumnName("issue_date");

                    b.Property<DateTime>("IssueDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("issue_date_time");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .HasDatabaseName("ix_attendance_code_code");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_attendance_code_guid");

                    b.HasIndex("IssueDate", "Code")
                        .IsUnique()
                        .HasDatabaseName("uix_attendance_code_issue_date_code");

                    b.ToTable("attendance_code", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AttendanceOccurrence", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("AcceptConfirmationMessage")
                        .HasColumnType("text")
                        .HasColumnName("accept_confirmation_message");

                    b.Property<int?>("AnonymousAttendanceCount")
                        .HasColumnType("integer")
                        .HasColumnName("anonymous_attendance_count");

                    b.Property<int?>("AttendanceTypeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("attendance_type_value_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("DeclineConfirmationMessage")
                        .HasColumnType("text")
                        .HasColumnName("decline_confirmation_message");

                    b.Property<bool?>("DidNotOccur")
                        .HasColumnType("boolean")
                        .HasColumnName("did_not_occur");

                    b.Property<int?>("GroupId")
                        .HasColumnType("integer")
                        .HasColumnName("group_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("LocationId")
                        .HasColumnType("integer")
                        .HasColumnName("location_id");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Notes")
                        .HasColumnType("text")
                        .HasColumnName("notes");

                    b.Property<DateOnly>("OccurrenceDate")
                        .HasColumnType("date")
                        .HasColumnName("occurrence_date");

                    b.Property<int?>("ScheduleId")
                        .HasColumnType("integer")
                        .HasColumnName("schedule_id");

                    b.Property<bool>("ShowDeclineReasons")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("show_decline_reasons");

                    b.Property<DateOnly>("SundayDate")
                        .HasColumnType("date")
                        .HasColumnName("sunday_date");

                    b.HasKey("Id");

                    b.HasIndex("GroupId")
                        .HasDatabaseName("ix_attendance_occurrence_group_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_attendance_occurrence_guid");

                    b.HasIndex("LocationId")
                        .HasDatabaseName("ix_attendance_occurrence_location_id");

                    b.HasIndex("OccurrenceDate")
                        .HasDatabaseName("ix_attendance_occurrence_date");

                    b.HasIndex("ScheduleId")
                        .HasDatabaseName("ix_attendance_occurrence_schedule_id");

                    b.HasIndex("SundayDate")
                        .HasDatabaseName("ix_attendance_occurrence_sunday_date");

                    b.HasIndex("GroupId", "LocationId", "ScheduleId", "OccurrenceDate")
                        .IsUnique()
                        .HasDatabaseName("uix_attendance_occurrence_group_location_schedule_date");

                    b.ToTable("attendance_occurrence", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AuthorizedPickup", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("AuthorizationLevel")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("authorization_level");

                    b.Property<int?>("AuthorizedPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("authorized_person_id");

                    b.Property<int>("ChildPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("child_person_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("CustodyNotes")
                        .HasColumnType("text")
                        .HasColumnName("custody_notes");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("phone_number");

                    b.Property<string>("PhotoUrl")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("photo_url");

                    b.Property<int>("Relationship")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(7)
                        .HasColumnName("relationship");

                    b.HasKey("Id");

                    b.HasIndex("AuthorizedPersonId")
                        .HasDatabaseName("ix_authorized_pickup_authorized_person_id")
                        .HasFilter("authorized_person_id IS NOT NULL");

                    b.HasIndex("ChildPersonId")
                        .HasDatabaseName("ix_authorized_pickup_child_person_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_authorized_pickup_guid");

                    b.HasIndex("ChildPersonId", "AuthorizationLevel")
                        .HasDatabaseName("ix_authorized_pickup_child_person_id_authorization_level");

                    b.ToTable("authorized_pickup", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.BinaryFile", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("BinaryFileTypeId")
                        .HasColumnType("integer")
                        .HasColumnName("binary_file_type_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<string>("FileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("file_name");

                    b.Property<long>("FileSizeBytes")
                        .HasColumnType("bigint")
                        .HasColumnName("file_size_bytes");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("Height")
                        .HasColumnType("integer")
                        .HasColumnName("height");

                    b.Property<string>("MimeType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("mime_type");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("StorageKey")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("storage_key");

                    b.Property<int?>("Width")
                        .HasColumnType("integer")
                        .HasColumnName("width");

                    b.HasKey("Id");

                    b.HasIndex("BinaryFileTypeId");

                    b.HasIndex("CreatedDateTime");

                    b.HasIndex("Guid")
                        .IsUnique();

                    b.HasIndex("MimeType");

                    b.HasIndex("StorageKey")
                        .IsUnique();

                    b.ToTable("binary_file", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Campus", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CampusStatusValueId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_status_value_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<int?>("LeaderPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("leader_person_alias_id");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("phone_number");

                    b.Property<string>("ServiceTimes")
                        .HasColumnType("text")
                        .HasColumnName("service_times");

                    b.Property<string>("ShortCode")
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasColumnName("short_code");

                    b.Property<string>("TimeZoneId")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("time_zone_id");

                    b.Property<string>("Url")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("url");

                    b.HasKey("Id");

                    b.HasIndex("CampusStatusValueId")
                        .HasDatabaseName("ix_campus_campus_status_value_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_campus_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_campus_is_active");

                    b.HasIndex("Order")
                        .HasDatabaseName("ix_campus_order");

                    b.HasIndex("ShortCode")
                        .HasDatabaseName("ix_campus_short_code")
                        .HasFilter("short_code IS NOT NULL");

                    b.ToTable("campus", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Communication", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Body")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("body");

                    b.Property<int>("CommunicationType")
                        .HasColumnType("integer")
                        .HasColumnName("communication_type");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int>("DeliveredCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("delivered_count");

                    b.Property<int>("FailedCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("failed_count");

                    b.Property<string>("FromEmail")
                        .HasMaxLength(254)
                        .HasColumnType("character varying(254)")
                        .HasColumnName("from_email");

                    b.Property<string>("FromName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("from_name");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Note")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("note");

                    b.Property<int>("OpenedCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("opened_count");

                    b.Property<int>("RecipientCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("recipient_count");

                    b.Property<string>("ReplyToEmail")
                        .HasMaxLength(254)
                        .HasColumnType("character varying(254)")
                        .HasColumnName("reply_to_email");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("bytea")
                        .HasColumnName("row_version");

                    b.Property<DateTime?>("ScheduledDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("scheduled_date_time");

                    b.Property<DateTime?>("SentDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sent_date_time");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("status");

                    b.Property<string>("Subject")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("subject");

                    b.HasKey("Id");

                    b.HasIndex("CommunicationType")
                        .HasDatabaseName("ix_communication_communication_type");

                    b.HasIndex("CreatedByPersonAliasId")
                        .HasDatabaseName("ix_communication_created_by_person_alias_id");

                    b.HasIndex("CreatedDateTime")
                        .HasDatabaseName("ix_communication_created_date_time");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_communication_guid");

                    b.HasIndex("ScheduledDateTime")
                        .HasDatabaseName("ix_communication_scheduled_date_time");

                    b.HasIndex("SentDateTime")
                        .HasDatabaseName("ix_communication_sent_date_time");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_communication_status");

                    b.ToTable("communication", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.CommunicationPreference", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("CommunicationType")
                        .HasColumnType("integer")
                        .HasColumnName("communication_type");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsOptedOut")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_opted_out");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<DateTime?>("OptOutDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("opt_out_date_time");

                    b.Property<string>("OptOutReason")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("opt_out_reason");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_communication_preference_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_communication_preference_person_id");

                    b.HasIndex("PersonId", "CommunicationType")
                        .IsUnique()
                        .HasDatabaseName("uix_communication_preference_person_type");

                    b.ToTable("communication_preference", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.CommunicationRecipient", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(254)
                        .HasColumnType("character varying(254)")
                        .HasColumnName("address");

                    b.Property<int>("CommunicationId")
                        .HasColumnType("integer")
                        .HasColumnName("communication_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<DateTime?>("DeliveredDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("delivered_date_time");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("error_message");

                    b.Property<int?>("GroupId")
                        .HasColumnType("integer")
                        .HasColumnName("group_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<DateTime?>("OpenedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("opened_date_time");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<string>("RecipientName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("recipient_name");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("status");

                    b.HasKey("Id");

                    b.HasIndex("CommunicationId")
                        .HasDatabaseName("ix_communication_recipient_communication_id");

                    b.HasIndex("GroupId")
                        .HasDatabaseName("ix_communication_recipient_group_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_communication_recipient_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_communication_recipient_person_id");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_communication_recipient_status");

                    b.ToTable("communication_recipient", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.CommunicationTemplate", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Body")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("body");

                    b.Property<int>("CommunicationType")
                        .HasColumnType("integer")
                        .HasColumnName("communication_type");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<string>("Subject")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("subject");

                    b.HasKey("Id");

                    b.HasIndex("CommunicationType")
                        .HasDatabaseName("ix_communication_template_communication_type");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_communication_template_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_communication_template_is_active");

                    b.ToTable("communication_template", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Contribution", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("BatchId")
                        .HasColumnType("integer")
                        .HasColumnName("batch_id");

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int?>("PersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("person_alias_id");

                    b.Property<int>("SourceTypeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("source_type_value_id");

                    b.Property<string>("Summary")
                        .HasColumnType("TEXT")
                        .HasColumnName("summary");

                    b.Property<string>("TransactionCode")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("transaction_code");

                    b.Property<DateTime>("TransactionDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("transaction_date_time");

                    b.Property<int>("TransactionTypeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("transaction_type_value_id");

                    b.HasKey("Id");

                    b.HasIndex("BatchId")
                        .HasDatabaseName("ix_contribution_batch");

                    b.HasIndex("CampusId")
                        .HasDatabaseName("ix_contribution_campus");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("ix_contribution_guid");

                    b.HasIndex("PersonAliasId")
                        .HasDatabaseName("ix_contribution_person_alias");

                    b.HasIndex("SourceTypeValueId")
                        .HasDatabaseName("ix_contribution_source_type");

                    b.HasIndex("TransactionDateTime")
                        .HasDatabaseName("ix_contribution_transaction_date");

                    b.HasIndex("TransactionTypeValueId")
                        .HasDatabaseName("ix_contribution_transaction_type");

                    b.ToTable("contribution", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ContributionBatch", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("BatchDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("batch_date");

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<decimal?>("ControlAmount")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("control_amount");

                    b.Property<int?>("ControlItemCount")
                        .HasColumnType("integer")
                        .HasColumnName("control_item_count");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<string>("Note")
                        .HasColumnType("TEXT")
                        .HasColumnName("note");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.HasKey("Id");

                    b.HasIndex("BatchDate")
                        .HasDatabaseName("ix_contribution_batch_batch_date");

                    b.HasIndex("CampusId")
                        .HasDatabaseName("ix_contribution_batch_campus");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("ix_contribution_batch_guid");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_contribution_batch_status");

                    b.ToTable("contribution_batch", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ContributionDetail", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(18,2)")
                        .HasColumnName("amount");

                    b.Property<int>("ContributionId")
                        .HasColumnType("integer")
                        .HasColumnName("contribution_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int>("FundId")
                        .HasColumnType("integer")
                        .HasColumnName("fund_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Summary")
                        .HasColumnType("TEXT")
                        .HasColumnName("summary");

                    b.HasKey("Id");

                    b.HasIndex("ContributionId")
                        .HasDatabaseName("ix_contribution_detail_contribution");

                    b.HasIndex("FundId")
                        .HasDatabaseName("ix_contribution_detail_fund");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("ix_contribution_detail_guid");

                    b.ToTable("contribution_detail", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.DefinedType", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Category")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("category");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<string>("FieldTypeAssemblyName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("field_type_assembly_name");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<string>("HelpText")
                        .HasColumnType("text")
                        .HasColumnName("help_text");

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_system");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.HasKey("Id");

                    b.HasIndex("Category")
                        .HasDatabaseName("ix_defined_type_category");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_defined_type_guid");

                    b.HasIndex("IsSystem")
                        .HasDatabaseName("ix_defined_type_is_system");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_defined_type_name");

                    b.ToTable("defined_type", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.DefinedValue", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int>("DefinedTypeId")
                        .HasColumnType("integer")
                        .HasColumnName("defined_type_id");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<string>("Value")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("character varying(250)")
                        .HasColumnName("value");

                    b.HasKey("Id");

                    b.HasIndex("DefinedTypeId")
                        .HasDatabaseName("ix_defined_value_defined_type_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_defined_value_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_defined_value_is_active");

                    b.HasIndex("Order")
                        .HasDatabaseName("ix_defined_value_order");

                    b.HasIndex("Value")
                        .HasDatabaseName("ix_defined_value_value");

                    b.HasIndex("DefinedTypeId", "IsActive", "Order")
                        .HasDatabaseName("ix_defined_value_type_active_order");

                    b.ToTable("defined_value", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Device", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<int?>("DeviceTypeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("device_type_value_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("character varying(45)")
                        .HasColumnName("ip_address");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<string>("KioskToken")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("kiosk_token");

                    b.Property<DateTime?>("KioskTokenExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("kiosk_token_expires_at");

                    b.Property<string>("Locations")
                        .HasColumnType("text")
                        .HasColumnName("locations");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<string>("PrinterSettings")
                        .HasColumnType("jsonb")
                        .HasColumnName("printer_settings");

                    b.HasKey("Id");

                    b.HasIndex("CampusId")
                        .HasDatabaseName("ix_device_campus_id")
                        .HasFilter("campus_id IS NOT NULL");

                    b.HasIndex("DeviceTypeValueId")
                        .HasDatabaseName("ix_device_device_type_value_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_device_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_device_is_active");

                    b.HasIndex("KioskToken")
                        .IsUnique()
                        .HasDatabaseName("uix_device_kiosk_token")
                        .HasFilter("kiosk_token IS NOT NULL");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_device_name");

                    b.ToTable("device", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Family", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("name");

                    b.HasKey("Id");

                    b.HasIndex("CampusId")
                        .HasDatabaseName("ix_family_campus_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_family_guid");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_family_name");

                    b.ToTable("family", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.FamilyMember", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<DateTime>("DateAdded")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("date_added");

                    b.Property<int>("FamilyId")
                        .HasColumnType("integer")
                        .HasColumnName("family_id");

                    b.Property<int>("FamilyRoleId")
                        .HasColumnType("integer")
                        .HasColumnName("family_role_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsPrimary")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_primary");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.HasKey("Id");

                    b.HasIndex("FamilyId")
                        .HasDatabaseName("ix_family_member_family_id");

                    b.HasIndex("FamilyRoleId")
                        .HasDatabaseName("ix_family_member_family_role_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_family_member_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_family_member_person_id");

                    b.HasIndex("FamilyId", "PersonId")
                        .IsUnique()
                        .HasDatabaseName("uix_family_member_family_person");

                    b.HasIndex("PersonId", "IsPrimary")
                        .HasDatabaseName("ix_family_member_person_primary");

                    b.ToTable("family_member", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.FinancialAuditLog", b =>
                {
                    b.Property<long>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("Id"));

                    b.Property<int>("ActionType")
                        .HasColumnType("integer")
                        .HasColumnName("action_type");

                    b.Property<string>("Details")
                        .HasColumnType("jsonb")
                        .HasColumnName("details");

                    b.Property<string>("EntityIdKey")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("entity_id_key");

                    b.Property<string>("EntityType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("entity_type");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("character varying(45)")
                        .HasColumnName("ip_address");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<DateTime>("Timestamp")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("timestamp");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("user_agent");

                    b.HasKey("Id");

                    b.HasIndex("ActionType")
                        .HasDatabaseName("ix_financial_audit_action");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_financial_audit_person");

                    b.HasIndex("Timestamp")
                        .HasDatabaseName("ix_financial_audit_timestamp");

                    b.HasIndex("EntityType", "EntityIdKey")
                        .HasDatabaseName("ix_financial_audit_entity");

                    b.ToTable("financial_audit_log", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.FollowUp", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("AssignedToPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("assigned_to_person_id");

                    b.Property<int?>("AttendanceId")
                        .HasColumnType("integer")
                        .HasColumnName("attendance_id");

                    b.Property<DateTime?>("CompletedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("completed_date_time");

                    b.Property<DateTime?>("ContactedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("contacted_date_time");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Notes")
                        .HasColumnType("text")
                        .HasColumnName("notes");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("status");

                    b.HasKey("Id");

                    b.HasIndex("AssignedToPersonId")
                        .HasDatabaseName("ix_follow_up_assigned_to_person_id")
                        .HasFilter("assigned_to_person_id IS NOT NULL");

                    b.HasIndex("AttendanceId")
                        .HasDatabaseName("ix_follow_up_attendance_id")
                        .HasFilter("attendance_id IS NOT NULL");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_follow_up_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_follow_up_person_id");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_follow_up_status");

                    b.HasIndex("AssignedToPersonId", "Status")
                        .HasDatabaseName("ix_follow_up_assigned_to_person_id_status")
                        .HasFilter("assigned_to_person_id IS NOT NULL");

                    b.ToTable("follow_up", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Fund", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasColumnType("TEXT")
                        .HasColumnName("description");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("end_date");

                    b.Property<string>("GlCode")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("gl_code");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsPublic")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_public");

                    b.Property<bool>("IsTaxDeductible")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_tax_deductible");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<int?>("ParentFundId")
                        .HasColumnType("integer")
                        .HasColumnName("parent_fund_id");

                    b.Property<string>("PublicName")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("public_name");

                    b.Property<DateTime?>("StartDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("start_date");

                    b.HasKey("Id");

                    b.HasIndex("CampusId")
                        .HasDatabaseName("ix_fund_campus");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("ix_fund_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_fund_active")
                        .HasFilter("is_active = true");

                    b.HasIndex("ParentFundId")
                        .HasDatabaseName("ix_fund_parent");

                    b.ToTable("fund", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Group", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<bool>("AllowGuests")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("allow_guests");

                    b.Property<int?>("ArchivedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("archived_by_person_alias_id");

                    b.Property<DateTime?>("ArchivedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("archived_date_time");

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<int?>("CampusId1")
                        .HasColumnType("integer");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<int?>("ExitSystemCommunicationId")
                        .HasColumnType("integer")
                        .HasColumnName("exit_system_communication_id");

                    b.Property<int?>("GroupCapacity")
                        .HasColumnType("integer")
                        .HasColumnName("group_capacity");

                    b.Property<int>("GroupTypeId")
                        .HasColumnType("integer")
                        .HasColumnName("group_type_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsArchived")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_archived");

                    b.Property<bool>("IsPublic")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_public");

                    b.Property<bool>("IsSecurityRole")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_security_role");

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_system");

                    b.Property<int?>("MaxAgeMonths")
                        .HasColumnType("integer")
                        .HasColumnName("max_age_months");

                    b.Property<int?>("MaxGrade")
                        .HasColumnType("integer")
                        .HasColumnName("max_grade");

                    b.Property<int?>("MinAgeMonths")
                        .HasColumnType("integer")
                        .HasColumnName("min_age_months");

                    b.Property<int?>("MinGrade")
                        .HasColumnType("integer")
                        .HasColumnName("min_grade");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<int?>("ParentGroupId")
                        .HasColumnType("integer")
                        .HasColumnName("parent_group_id");

                    b.Property<string>("PublicDescription")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("public_description");

                    b.Property<int?>("RequiredSignatureDocumentTemplateId")
                        .HasColumnType("integer")
                        .HasColumnName("required_signature_document_template_id");

                    b.Property<int?>("ScheduleId")
                        .HasColumnType("integer")
                        .HasColumnName("schedule_id");

                    b.Property<int?>("StatusValueId")
                        .HasColumnType("integer")
                        .HasColumnName("status_value_id");

                    b.Property<int?>("WelcomeSystemCommunicationId")
                        .HasColumnType("integer")
                        .HasColumnName("welcome_system_communication_id");

                    b.HasKey("Id");

                    b.HasIndex("CampusId")
                        .HasDatabaseName("ix_group_campus_id");

                    b.HasIndex("CampusId1");

                    b.HasIndex("GroupTypeId")
                        .HasDatabaseName("ix_group_group_type_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_group_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_group_is_active")
                        .HasFilter("is_active = true");

                    b.HasIndex("IsArchived")
                        .HasDatabaseName("ix_group_is_archived")
                        .HasFilter("is_archived = false");

                    b.HasIndex("IsPublic")
                        .HasDatabaseName("ix_group_is_public");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_group_name");

                    b.HasIndex("ParentGroupId")
                        .HasDatabaseName("ix_group_parent_group_id");

                    b.HasIndex("ScheduleId")
                        .HasDatabaseName("ix_group_schedule_id");

                    b.ToTable("group", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupMember", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("ArchivedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("archived_by_person_alias_id");

                    b.Property<DateTime?>("ArchivedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("archived_date_time");

                    b.Property<int?>("CommunicationPreference")
                        .HasColumnType("integer")
                        .HasColumnName("communication_preference");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<DateTime?>("DateTimeAdded")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("date_time_added");

                    b.Property<int>("GroupId")
                        .HasColumnType("integer")
                        .HasColumnName("group_id");

                    b.Property<int>("GroupMemberStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasColumnName("group_member_status");

                    b.Property<int>("GroupRoleId")
                        .HasColumnType("integer")
                        .HasColumnName("group_role_id");

                    b.Property<int?>("GuestCount")
                        .HasColumnType("integer")
                        .HasColumnName("guest_count");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<DateTime?>("InactiveDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("inactive_date_time");

                    b.Property<bool>("IsArchived")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_archived");

                    b.Property<bool>("IsNotified")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_notified");

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_system");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Note")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("note");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.HasKey("Id");

                    b.HasIndex("GroupId")
                        .HasDatabaseName("ix_group_member_group_id");

                    b.HasIndex("GroupMemberStatus")
                        .HasDatabaseName("ix_group_member_status");

                    b.HasIndex("GroupRoleId")
                        .HasDatabaseName("ix_group_member_group_role_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_group_member_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_group_member_person_id");

                    b.HasIndex("GroupId", "PersonId", "GroupRoleId")
                        .IsUnique()
                        .HasDatabaseName("uix_group_member_group_person_role")
                        .HasFilter("is_archived = false");

                    b.ToTable("group_member", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupMemberRequest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int>("GroupId")
                        .HasColumnType("integer")
                        .HasColumnName("group_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<int?>("ProcessedByPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("processed_by_person_id");

                    b.Property<DateTime?>("ProcessedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("processed_date_time");

                    b.Property<string>("RequestNote")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("request_note");

                    b.Property<string>("ResponseNote")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("response_note");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("status");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_group_member_request_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_group_member_request_person_id");

                    b.HasIndex("ProcessedByPersonId");

                    b.HasIndex("GroupId", "Status")
                        .HasDatabaseName("ix_group_member_request_group_id_status");

                    b.ToTable("group_member_request", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupSchedule", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int>("GroupId")
                        .HasColumnType("integer")
                        .HasColumnName("group_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("LocationId")
                        .HasColumnType("integer")
                        .HasColumnName("location_id");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<int>("ScheduleId")
                        .HasColumnType("integer")
                        .HasColumnName("schedule_id");

                    b.HasKey("Id");

                    b.HasIndex("GroupId")
                        .HasDatabaseName("ix_group_schedule_group_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_group_schedule_guid");

                    b.HasIndex("LocationId")
                        .HasDatabaseName("ix_group_schedule_location_id");

                    b.HasIndex("ScheduleId")
                        .HasDatabaseName("ix_group_schedule_schedule_id");

                    b.HasIndex("GroupId", "ScheduleId")
                        .IsUnique()
                        .HasDatabaseName("uix_group_schedule_group_id_schedule_id");

                    b.ToTable("group_schedule", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupType", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<bool>("AllowGroupSync")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("allow_group_sync");

                    b.Property<bool>("AllowMultipleLocations")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("allow_multiple_locations");

                    b.Property<bool>("AllowSelfRegistration")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("allow_self_registration");

                    b.Property<bool>("AllowSpecificGroupMemberAttributes")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("allow_specific_group_member_attributes");

                    b.Property<int?>("ArchivedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("archived_by_person_alias_id");

                    b.Property<DateTime?>("ArchivedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("archived_date_time");

                    b.Property<bool>("AttendanceCountsAsWeekendService")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("attendance_counts_as_weekend_service");

                    b.Property<string>("Color")
                        .HasMaxLength(7)
                        .HasColumnType("character varying(7)")
                        .HasColumnName("color");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int?>("DefaultGroupCapacity")
                        .HasColumnType("integer")
                        .HasColumnName("default_group_capacity");

                    b.Property<int?>("DefaultGroupRoleId")
                        .HasColumnType("integer")
                        .HasColumnName("default_group_role_id");

                    b.Property<bool>("DefaultIsPublic")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("default_is_public");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<bool>("EnableSpecificGroupRequirements")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("enable_specific_group_requirements");

                    b.Property<string>("GroupMemberTerm")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValue("Member")
                        .HasColumnName("group_member_term");

                    b.Property<string>("GroupTerm")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValue("Group")
                        .HasColumnName("group_term");

                    b.Property<int?>("GroupTypePurposeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("group_type_purpose_value_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<string>("IconCssClass")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("icon_css_class");

                    b.Property<bool>("IgnorePersonInactivated")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("ignore_person_inactivated");

                    b.Property<bool>("IsArchived")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_archived");

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_system");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<bool>("RequiresMemberApproval")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("requires_member_approval");

                    b.Property<bool>("SendAttendanceReminder")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("send_attendance_reminder");

                    b.Property<bool>("ShowConnectionStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("show_connection_status");

                    b.Property<bool>("ShowInGroupList")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("show_in_group_list");

                    b.Property<bool>("ShowInNavigation")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("show_in_navigation");

                    b.Property<bool>("TakesAttendance")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("takes_attendance");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_group_type_guid");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_group_type_name");

                    b.ToTable("group_type", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupTypeRole", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<bool>("CanEdit")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("can_edit");

                    b.Property<bool>("CanManageMembers")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("can_manage_members");

                    b.Property<bool>("CanView")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("can_view");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<int>("GroupTypeId")
                        .HasColumnType("integer")
                        .HasColumnName("group_type_id");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsArchived")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_archived");

                    b.Property<bool>("IsLeader")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_leader");

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_system");

                    b.Property<int?>("MaxCount")
                        .HasColumnType("integer")
                        .HasColumnName("max_count");

                    b.Property<int?>("MinCount")
                        .HasColumnType("integer")
                        .HasColumnName("min_count");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<bool>("ReceiveRequirementsNotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("receive_requirements_notifications");

                    b.HasKey("Id");

                    b.HasIndex("GroupTypeId")
                        .HasDatabaseName("ix_group_type_role_group_type_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_group_type_role_guid");

                    b.HasIndex("GroupTypeId", "Name")
                        .HasDatabaseName("ix_group_type_role_group_type_id_name");

                    b.ToTable("group_type_role", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ImportJob", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("completed_at");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<int>("ErrorCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("error_count");

                    b.Property<string>("ErrorDetails")
                        .HasColumnType("jsonb")
                        .HasColumnName("error_details");

                    b.Property<string>("FileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("file_name");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ImportTemplateId")
                        .HasColumnType("integer")
                        .HasColumnName("import_template_id");

                    b.Property<int>("ImportType")
                        .HasColumnType("integer")
                        .HasColumnName("import_type");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("ProcessedRows")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("processed_rows");

                    b.Property<DateTime?>("StartedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("started_at");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<int>("SuccessCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("success_count");

                    b.Property<int>("TotalRows")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("total_rows");

                    b.HasKey("Id");

                    b.HasIndex("CreatedDateTime")
                        .HasDatabaseName("ix_import_job_created_date_time");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_import_job_guid");

                    b.HasIndex("ImportTemplateId");

                    b.HasIndex("ImportType")
                        .HasDatabaseName("ix_import_job_import_type");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_import_job_status");

                    b.HasIndex("Status", "CreatedDateTime")
                        .HasDatabaseName("ix_import_job_status_created");

                    b.ToTable("import_job", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ImportTemplate", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<string>("FieldMappings")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("field_mappings");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int>("ImportType")
                        .HasColumnType("integer")
                        .HasColumnName("import_type");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsSystem")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_system");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("name");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_import_template_guid");

                    b.HasIndex("ImportType")
                        .HasDatabaseName("ix_import_template_import_type");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_import_template_is_active");

                    b.ToTable("import_template", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Location", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<bool>("AutoAssignOverflow")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("auto_assign_overflow");

                    b.Property<string>("City")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("city");

                    b.Property<string>("Country")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("country");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<int?>("FirmRoomThreshold")
                        .HasColumnType("integer")
                        .HasColumnName("firm_room_threshold");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ImageId")
                        .HasColumnType("integer")
                        .HasColumnName("image_id");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsGeoPointLocked")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_geo_point_locked");

                    b.Property<double?>("Latitude")
                        .HasPrecision(9, 6)
                        .HasColumnType("double precision")
                        .HasColumnName("latitude");

                    b.Property<int?>("LocationTypeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("location_type_value_id");

                    b.Property<double?>("Longitude")
                        .HasPrecision(9, 6)
                        .HasColumnType("double precision")
                        .HasColumnName("longitude");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<int?>("OverflowLocationId")
                        .HasColumnType("integer")
                        .HasColumnName("overflow_location_id");

                    b.Property<int?>("ParentLocationId")
                        .HasColumnType("integer")
                        .HasColumnName("parent_location_id");

                    b.Property<string>("PostalCode")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("postal_code");

                    b.Property<int?>("PrinterDeviceId")
                        .HasColumnType("integer")
                        .HasColumnName("printer_device_id");

                    b.Property<int?>("SoftRoomThreshold")
                        .HasColumnType("integer")
                        .HasColumnName("soft_room_threshold");

                    b.Property<int?>("StaffToChildRatio")
                        .HasColumnType("integer")
                        .HasColumnName("staff_to_child_ratio");

                    b.Property<string>("State")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("state");

                    b.Property<string>("Street1")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("street1");

                    b.Property<string>("Street2")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("street2");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_location_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_location_is_active");

                    b.HasIndex("LocationTypeValueId")
                        .HasDatabaseName("ix_location_location_type_value_id");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_location_name");

                    b.HasIndex("OverflowLocationId")
                        .HasDatabaseName("ix_location_overflow_location_id");

                    b.HasIndex("ParentLocationId")
                        .HasDatabaseName("ix_location_parent_location_id");

                    b.ToTable("location", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PagerAssignment", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("AttendanceId")
                        .HasColumnType("integer")
                        .HasColumnName("attendance_id");

                    b.Property<int?>("CampusId")
                        .HasColumnType("integer")
                        .HasColumnName("campus_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("LocationId")
                        .HasColumnType("integer")
                        .HasColumnName("location_id");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("PagerNumber")
                        .HasColumnType("integer")
                        .HasColumnName("pager_number");

                    b.HasKey("Id");

                    b.HasIndex("AttendanceId")
                        .IsUnique()
                        .HasDatabaseName("uix_pager_assignment_attendance_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_pager_assignment_guid");

                    b.HasIndex("LocationId");

                    b.HasIndex("PagerNumber")
                        .HasDatabaseName("ix_pager_assignment_pager_number");

                    b.HasIndex("CampusId", "CreatedDateTime")
                        .HasDatabaseName("ix_pager_assignment_campus_id_created_date_time");

                    b.ToTable("pager_assignment", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PagerMessage", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<DateTime?>("DeliveredDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("delivered_date_time");

                    b.Property<string>("FailureReason")
                        .HasColumnType("text")
                        .HasColumnName("failure_reason");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<string>("MessageText")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("message_text");

                    b.Property<int>("MessageType")
                        .HasColumnType("integer")
                        .HasColumnName("message_type");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("PagerAssignmentId")
                        .HasColumnType("integer")
                        .HasColumnName("pager_assignment_id");

                    b.Property<string>("PhoneNumber")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("phone_number");

                    b.Property<int>("SentByPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("sent_by_person_id");

                    b.Property<DateTime?>("SentDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sent_date_time");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("status");

                    b.Property<string>("TwilioMessageSid")
                        .HasColumnType("text")
                        .HasColumnName("twilio_message_sid");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_pager_message_guid");

                    b.HasIndex("PagerAssignmentId")
                        .HasDatabaseName("ix_pager_message_pager_assignment_id");

                    b.HasIndex("SentByPersonId")
                        .HasDatabaseName("ix_pager_message_sent_by_person_id");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_pager_message_status");

                    b.HasIndex("TwilioMessageSid")
                        .HasDatabaseName("ix_pager_message_twilio_message_sid")
                        .HasFilter("twilio_message_sid IS NOT NULL");

                    b.ToTable("pager_message", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Person", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("Allergies")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("allergies");

                    b.Property<DateOnly?>("AnniversaryDate")
                        .HasColumnType("date")
                        .HasColumnName("anniversary_date");

                    b.Property<int?>("BirthDay")
                        .HasColumnType("integer")
                        .HasColumnName("birth_day");

                    b.Property<int?>("BirthMonth")
                        .HasColumnType("integer")
                        .HasColumnName("birth_month");

                    b.Property<int?>("BirthYear")
                        .HasColumnType("integer")
                        .HasColumnName("birth_year");

                    b.Property<int?>("CommunicationPreference")
                        .HasColumnType("integer")
                        .HasColumnName("communication_preference");

                    b.Property<int?>("ConnectionStatusValueId")
                        .HasColumnType("integer")
                        .HasColumnName("connection_status_value_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Email")
                        .HasMaxLength(75)
                        .HasColumnType("character varying(75)")
                        .HasColumnName("email");

                    b.Property<string>("EmailNote")
                        .HasColumnType("text")
                        .HasColumnName("email_note");

                    b.Property<int>("EmailPreference")
                        .HasColumnType("integer")
                        .HasColumnName("email_preference");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("first_name");

                    b.Property<int>("Gender")
                        .HasColumnType("integer")
                        .HasColumnName("gender");

                    b.Property<int?>("GivingGroupId")
                        .HasColumnType("integer")
                        .HasColumnName("giving_group_id");

                    b.Property<int?>("GraduationYear")
                        .HasColumnType("integer")
                        .HasColumnName("graduation_year");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("HasCriticalAllergies")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("has_critical_allergies");

                    b.Property<string>("InactiveReasonNote")
                        .HasColumnType("text")
                        .HasColumnName("inactive_reason_note");

                    b.Property<bool>("IsDeceased")
                        .HasColumnType("boolean")
                        .HasColumnName("is_deceased");

                    b.Property<bool>("IsEmailActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_email_active");

                    b.Property<bool>("IsSystem")
                        .HasColumnType("boolean")
                        .HasColumnName("is_system");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("last_name");

                    b.Property<int?>("MaritalStatusValueId")
                        .HasColumnType("integer")
                        .HasColumnName("marital_status_value_id");

                    b.Property<string>("MiddleName")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("middle_name");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("NickName")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("nick_name");

                    b.Property<string>("PasswordHash")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("password_hash");

                    b.Property<int?>("PhotoId")
                        .HasColumnType("integer")
                        .HasColumnName("photo_id");

                    b.Property<int?>("PrimaryCampusId")
                        .HasColumnType("integer")
                        .HasColumnName("primary_campus_id");

                    b.Property<int?>("RecordStatusReasonValueId")
                        .HasColumnType("integer")
                        .HasColumnName("record_status_reason_value_id");

                    b.Property<int?>("RecordStatusValueId")
                        .HasColumnType("integer")
                        .HasColumnName("record_status_value_id");

                    b.Property<int?>("RecordTypeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("record_type_value_id");

                    b.Property<string>("ReviewReasonNote")
                        .HasColumnType("text")
                        .HasColumnName("review_reason_note");

                    b.Property<NpgsqlTsVector>("SearchVector")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("tsvector")
                        .HasColumnName("search_vector")
                        .HasComputedColumnSql("\n                    setweight(to_tsvector('english', coalesce(first_name, '')), 'A') ||\n                    setweight(to_tsvector('english', coalesce(last_name, '')), 'A') ||\n                    setweight(to_tsvector('english', coalesce(nick_name, '')), 'B') ||\n                    setweight(to_tsvector('english', coalesce(email, '')), 'C')\n                    ", true);

                    b.Property<string>("SpecialNeeds")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("special_needs");

                    b.Property<int?>("SuffixValueId")
                        .HasColumnType("integer")
                        .HasColumnName("suffix_value_id");

                    b.Property<string>("SupervisorPinHash")
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("supervisor_pin_hash");

                    b.Property<string>("SystemNote")
                        .HasColumnType("text")
                        .HasColumnName("system_note");

                    b.Property<int?>("TitleValueId")
                        .HasColumnType("integer")
                        .HasColumnName("title_value_id");

                    b.HasKey("Id");

                    b.HasIndex("ConnectionStatusValueId")
                        .HasDatabaseName("ix_person_connection_status_value_id");

                    b.HasIndex("Email")
                        .HasDatabaseName("ix_person_email")
                        .HasFilter("email IS NOT NULL");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_person_guid");

                    b.HasIndex("PhotoId");

                    b.HasIndex("PrimaryCampusId")
                        .HasDatabaseName("ix_person_primary_campus_id");

                    b.HasIndex("RecordStatusValueId")
                        .HasDatabaseName("ix_person_record_status_value_id");

                    b.HasIndex("SearchVector")
                        .HasDatabaseName("ix_person_search_vector");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("SearchVector"), "GIN");

                    b.HasIndex("LastName", "FirstName")
                        .HasDatabaseName("ix_person_last_name_first_name");

                    b.ToTable("person", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PersonAlias", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<Guid?>("AliasPersonGuid")
                        .HasColumnType("uuid")
                        .HasColumnName("alias_person_guid");

                    b.Property<int?>("AliasPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("alias_person_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .HasMaxLength(250)
                        .HasColumnType("character varying(250)")
                        .HasColumnName("name");

                    b.Property<int?>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<int?>("PersonId1")
                        .HasColumnType("integer");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_person_alias_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_person_alias_person_id")
                        .HasFilter("person_id IS NOT NULL");

                    b.HasIndex("PersonId1");

                    b.ToTable("person_alias", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PersonSecurityRole", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<DateTime?>("ExpiresDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<int>("SecurityRoleId")
                        .HasColumnType("integer")
                        .HasColumnName("security_role_id");

                    b.HasKey("Id");

                    b.HasIndex("ExpiresDateTime")
                        .HasDatabaseName("ix_person_security_role_expires_date_time");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_person_security_role_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_person_security_role_person_id");

                    b.HasIndex("SecurityRoleId")
                        .HasDatabaseName("ix_person_security_role_security_role_id");

                    b.ToTable("person_security_role", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PhoneNumber", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("CountryCode")
                        .HasMaxLength(3)
                        .HasColumnType("character varying(3)")
                        .HasColumnName("country_code");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<string>("Extension")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("extension");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsMessagingEnabled")
                        .HasColumnType("boolean")
                        .HasColumnName("is_messaging_enabled");

                    b.Property<bool>("IsUnlisted")
                        .HasColumnType("boolean")
                        .HasColumnName("is_unlisted");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("number");

                    b.Property<string>("NumberNormalized")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("number_normalized");

                    b.Property<int?>("NumberTypeValueId")
                        .HasColumnType("integer")
                        .HasColumnName("number_type_value_id");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_phone_number_guid");

                    b.HasIndex("NumberNormalized")
                        .HasDatabaseName("ix_phone_number_normalized");

                    b.HasIndex("NumberTypeValueId")
                        .HasDatabaseName("ix_phone_number_number_type_value_id");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_phone_number_person_id");

                    b.HasIndex("PersonId", "Number")
                        .HasDatabaseName("ix_phone_number_person_number");

                    b.ToTable("phone_number", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PickupLog", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int>("AttendanceId")
                        .HasColumnType("integer")
                        .HasColumnName("attendance_id");

                    b.Property<int?>("AuthorizedPickupId")
                        .HasColumnType("integer")
                        .HasColumnName("authorized_pickup_id");

                    b.Property<DateTime>("CheckoutDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("checkout_date_time");

                    b.Property<int>("ChildPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("child_person_id");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Notes")
                        .HasColumnType("text")
                        .HasColumnName("notes");

                    b.Property<int?>("PickupPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("pickup_person_id");

                    b.Property<string>("PickupPersonName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("pickup_person_name");

                    b.Property<bool>("SupervisorOverride")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("supervisor_override");

                    b.Property<int?>("SupervisorPersonId")
                        .HasColumnType("integer")
                        .HasColumnName("supervisor_person_id");

                    b.Property<bool>("WasAuthorized")
                        .HasColumnType("boolean")
                        .HasColumnName("was_authorized");

                    b.HasKey("Id");

                    b.HasIndex("AttendanceId")
                        .HasDatabaseName("ix_pickup_log_attendance_id");

                    b.HasIndex("AuthorizedPickupId")
                        .HasDatabaseName("ix_pickup_log_authorized_pickup_id");

                    b.HasIndex("CheckoutDateTime")
                        .HasDatabaseName("ix_pickup_log_checkout_date_time");

                    b.HasIndex("ChildPersonId")
                        .HasDatabaseName("ix_pickup_log_child_person_id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_pickup_log_guid");

                    b.HasIndex("PickupPersonId")
                        .HasDatabaseName("ix_pickup_log_pickup_person_id");

                    b.HasIndex("SupervisorPersonId")
                        .HasDatabaseName("ix_pickup_log_supervisor_person_id");

                    b.ToTable("pickup_log", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.RefreshToken", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("CreatedByIp")
                        .HasMaxLength(45)
                        .HasColumnType("character varying(45)")
                        .HasColumnName("created_by_ip");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<string>("ReplacedByToken")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("replaced_by_token");

                    b.Property<DateTime?>("RevokedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("revoked_at");

                    b.Property<string>("RevokedByIp")
                        .HasMaxLength(45)
                        .HasColumnType("character varying(45)")
                        .HasColumnName("revoked_by_ip");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("token");

                    b.HasKey("Id");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("ix_refresh_token_expires_at");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_refresh_token_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_refresh_token_person_id");

                    b.HasIndex("Token")
                        .IsUnique()
                        .HasDatabaseName("uix_refresh_token_token");

                    b.ToTable("refresh_token", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.RoleSecurityClaim", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<char>("AllowOrDeny")
                        .HasColumnType("char(1)")
                        .HasColumnName("allow_or_deny")
                        .HasComment("A=Allow, D=Deny");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("SecurityClaimId")
                        .HasColumnType("integer")
                        .HasColumnName("security_claim_id");

                    b.Property<int>("SecurityRoleId")
                        .HasColumnType("integer")
                        .HasColumnName("security_role_id");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_role_security_claim_guid");

                    b.HasIndex("SecurityClaimId")
                        .HasDatabaseName("ix_role_security_claim_security_claim_id");

                    b.HasIndex("SecurityRoleId")
                        .HasDatabaseName("ix_role_security_claim_security_role_id");

                    b.HasIndex("SecurityRoleId", "SecurityClaimId")
                        .IsUnique()
                        .HasDatabaseName("uix_role_security_claim_role_claim");

                    b.ToTable("role_security_claim", null, t =>
                        {
                            t.HasCheckConstraint("ck_role_claim_allow_deny", "allow_or_deny IN ('A', 'D')");
                        });
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Schedule", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<bool>("AutoInactivateWhenComplete")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("auto_inactivate_when_complete");

                    b.Property<int?>("CategoryId")
                        .HasColumnType("integer")
                        .HasColumnName("category_id");

                    b.Property<int?>("CheckInEndOffsetMinutes")
                        .HasColumnType("integer")
                        .HasColumnName("check_in_end_offset_minutes");

                    b.Property<int?>("CheckInStartOffsetMinutes")
                        .HasColumnType("integer")
                        .HasColumnName("check_in_start_offset_minutes");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<DateOnly?>("EffectiveEndDate")
                        .HasColumnType("date")
                        .HasColumnName("effective_end_date");

                    b.Property<DateOnly?>("EffectiveStartDate")
                        .HasColumnType("date")
                        .HasColumnName("effective_start_date");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<string>("ICalendarContent")
                        .HasColumnType("text")
                        .HasColumnName("icalendar_content");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsPublic")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_public");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("name");

                    b.Property<int>("Order")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("order");

                    b.Property<int?>("WeeklyDayOfWeek")
                        .HasColumnType("integer")
                        .HasColumnName("weekly_day_of_week");

                    b.Property<TimeSpan?>("WeeklyTimeOfDay")
                        .HasColumnType("interval")
                        .HasColumnName("weekly_time_of_day");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_schedule_guid");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_schedule_name");

                    b.HasIndex("WeeklyDayOfWeek", "WeeklyTimeOfDay")
                        .HasDatabaseName("ix_schedule_weekly");

                    b.ToTable("schedule", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SecurityClaim", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("ClaimType")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("claim_type");

                    b.Property<string>("ClaimValue")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("claim_value");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_security_claim_guid");

                    b.HasIndex("ClaimType", "ClaimValue")
                        .IsUnique()
                        .HasDatabaseName("uix_security_claim_type_value");

                    b.ToTable("security_claim", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SecurityRole", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsSystemRole")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_system_role");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.HasKey("Id");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_security_role_guid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_security_role_is_active");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("uix_security_role_name");

                    b.ToTable("security_role", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SupervisorAuditLog", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("ActionType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("action_type");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<string>("Details")
                        .HasColumnType("text")
                        .HasColumnName("details");

                    b.Property<string>("EntityIdKey")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("entity_id_key");

                    b.Property<string>("EntityType")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("entity_type");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("character varying(45)")
                        .HasColumnName("ip_address");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int?>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<bool>("Success")
                        .HasColumnType("boolean")
                        .HasColumnName("success");

                    b.Property<int?>("SupervisorSessionId")
                        .HasColumnType("integer")
                        .HasColumnName("supervisor_session_id");

                    b.HasKey("Id");

                    b.HasIndex("ActionType")
                        .HasDatabaseName("ix_supervisor_audit_log_action_type");

                    b.HasIndex("CreatedDateTime")
                        .HasDatabaseName("ix_supervisor_audit_log_created_date_time");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("ix_supervisor_audit_log_guid");

                    b.HasIndex("SupervisorSessionId");

                    b.HasIndex("PersonId", "ActionType")
                        .HasDatabaseName("ix_supervisor_audit_log_person_id_action_type");

                    b.ToTable("supervisor_audit_log", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SupervisorSession", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("Id"));

                    b.Property<string>("CreatedByIp")
                        .HasMaxLength(45)
                        .HasColumnType("character varying(45)")
                        .HasColumnName("created_by_ip");

                    b.Property<int?>("CreatedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("created_by_person_alias_id");

                    b.Property<DateTime>("CreatedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date_time");

                    b.Property<DateTime?>("EndedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("ended_at");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<Guid>("Guid")
                        .HasColumnType("uuid")
                        .HasColumnName("guid");

                    b.Property<int?>("ModifiedByPersonAliasId")
                        .HasColumnType("integer")
                        .HasColumnName("modified_by_person_alias_id");

                    b.Property<DateTime?>("ModifiedDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("modified_date_time");

                    b.Property<int>("PersonId")
                        .HasColumnType("integer")
                        .HasColumnName("person_id");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("token");

                    b.HasKey("Id");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("ix_supervisor_session_expires_at");

                    b.HasIndex("Guid")
                        .IsUnique()
                        .HasDatabaseName("uix_supervisor_session_guid");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_supervisor_session_person_id");

                    b.HasIndex("Token")
                        .IsUnique()
                        .HasDatabaseName("uix_supervisor_session_token");

                    b.ToTable("supervisor_session", (string)null);
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Attendance", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.AttendanceCode", "AttendanceCode")
                        .WithMany("Attendances")
                        .HasForeignKey("AttendanceCodeId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Device", null)
                        .WithMany("Attendances")
                        .HasForeignKey("DeviceId");

                    b.HasOne("Koinon.Domain.Entities.AttendanceOccurrence", "Occurrence")
                        .WithMany("Attendances")
                        .HasForeignKey("OccurrenceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.PersonAlias", "PersonAlias")
                        .WithMany()
                        .HasForeignKey("PersonAliasId");

                    b.Navigation("AttendanceCode");

                    b.Navigation("Occurrence");

                    b.Navigation("PersonAlias");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AttendanceOccurrence", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Group", "Group")
                        .WithMany()
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Location", "Location")
                        .WithMany()
                        .HasForeignKey("LocationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Schedule", "Schedule")
                        .WithMany()
                        .HasForeignKey("ScheduleId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Group");

                    b.Navigation("Location");

                    b.Navigation("Schedule");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AuthorizedPickup", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "AuthorizedPerson")
                        .WithMany()
                        .HasForeignKey("AuthorizedPersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Person", "ChildPerson")
                        .WithMany()
                        .HasForeignKey("ChildPersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("AuthorizedPerson");

                    b.Navigation("ChildPerson");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.BinaryFile", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "BinaryFileType")
                        .WithMany()
                        .HasForeignKey("BinaryFileTypeId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("BinaryFileType");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Campus", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "CampusStatusValue")
                        .WithMany()
                        .HasForeignKey("CampusStatusValueId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("CampusStatusValue");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.CommunicationPreference", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.CommunicationRecipient", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Communication", "Communication")
                        .WithMany("Recipients")
                        .HasForeignKey("CommunicationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Group", "Group")
                        .WithMany()
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Communication");

                    b.Navigation("Group");

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Contribution", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.ContributionBatch", "Batch")
                        .WithMany("Contributions")
                        .HasForeignKey("BatchId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_contribution_batch");

                    b.HasOne("Koinon.Domain.Entities.Campus", "Campus")
                        .WithMany()
                        .HasForeignKey("CampusId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_contribution_campus");

                    b.HasOne("Koinon.Domain.Entities.PersonAlias", "PersonAlias")
                        .WithMany()
                        .HasForeignKey("PersonAliasId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_contribution_person_alias");

                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "SourceTypeValue")
                        .WithMany()
                        .HasForeignKey("SourceTypeValueId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_contribution_source_type");

                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "TransactionTypeValue")
                        .WithMany()
                        .HasForeignKey("TransactionTypeValueId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_contribution_transaction_type");

                    b.Navigation("Batch");

                    b.Navigation("Campus");

                    b.Navigation("PersonAlias");

                    b.Navigation("SourceTypeValue");

                    b.Navigation("TransactionTypeValue");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ContributionBatch", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Campus", "Campus")
                        .WithMany()
                        .HasForeignKey("CampusId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_contribution_batch_campus");

                    b.Navigation("Campus");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ContributionDetail", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Contribution", "Contribution")
                        .WithMany("ContributionDetails")
                        .HasForeignKey("ContributionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_contribution_detail_contribution");

                    b.HasOne("Koinon.Domain.Entities.Fund", "Fund")
                        .WithMany()
                        .HasForeignKey("FundId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_contribution_detail_fund");

                    b.Navigation("Contribution");

                    b.Navigation("Fund");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.DefinedValue", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.DefinedType", "DefinedType")
                        .WithMany("DefinedValues")
                        .HasForeignKey("DefinedTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("DefinedType");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Device", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Campus", "Campus")
                        .WithMany()
                        .HasForeignKey("CampusId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "DeviceTypeValue")
                        .WithMany()
                        .HasForeignKey("DeviceTypeValueId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Campus");

                    b.Navigation("DeviceTypeValue");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Family", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Campus", "Campus")
                        .WithMany()
                        .HasForeignKey("CampusId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Campus");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.FamilyMember", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Family", "Family")
                        .WithMany("Members")
                        .HasForeignKey("FamilyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.GroupTypeRole", "FamilyRole")
                        .WithMany()
                        .HasForeignKey("FamilyRoleId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany("FamilyMemberships")
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Family");

                    b.Navigation("FamilyRole");

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.FinancialAuditLog", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.FollowUp", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "AssignedToPerson")
                        .WithMany()
                        .HasForeignKey("AssignedToPersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Attendance", "Attendance")
                        .WithMany()
                        .HasForeignKey("AttendanceId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("AssignedToPerson");

                    b.Navigation("Attendance");

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Fund", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Campus", "Campus")
                        .WithMany()
                        .HasForeignKey("CampusId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_fund_campus");

                    b.HasOne("Koinon.Domain.Entities.Fund", "ParentFund")
                        .WithMany("ChildFunds")
                        .HasForeignKey("ParentFundId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_fund_parent_fund");

                    b.Navigation("Campus");

                    b.Navigation("ParentFund");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Group", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Campus", "Campus")
                        .WithMany()
                        .HasForeignKey("CampusId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Campus", null)
                        .WithMany("Groups")
                        .HasForeignKey("CampusId1");

                    b.HasOne("Koinon.Domain.Entities.GroupType", "GroupType")
                        .WithMany("Groups")
                        .HasForeignKey("GroupTypeId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Group", "ParentGroup")
                        .WithMany("ChildGroups")
                        .HasForeignKey("ParentGroupId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Schedule", "Schedule")
                        .WithMany("Groups")
                        .HasForeignKey("ScheduleId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Campus");

                    b.Navigation("GroupType");

                    b.Navigation("ParentGroup");

                    b.Navigation("Schedule");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupMember", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Group", "Group")
                        .WithMany("Members")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.GroupTypeRole", "GroupRole")
                        .WithMany()
                        .HasForeignKey("GroupRoleId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany("GroupMemberships")
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Group");

                    b.Navigation("GroupRole");

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupMemberRequest", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Group", "Group")
                        .WithMany("MemberRequests")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Person", "ProcessedByPerson")
                        .WithMany()
                        .HasForeignKey("ProcessedByPersonId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Group");

                    b.Navigation("Person");

                    b.Navigation("ProcessedByPerson");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupSchedule", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Group", "Group")
                        .WithMany("GroupSchedules")
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Location", "Location")
                        .WithMany()
                        .HasForeignKey("LocationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Schedule", "Schedule")
                        .WithMany("GroupSchedules")
                        .HasForeignKey("ScheduleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Group");

                    b.Navigation("Location");

                    b.Navigation("Schedule");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupTypeRole", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.GroupType", "GroupType")
                        .WithMany("Roles")
                        .HasForeignKey("GroupTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("GroupType");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ImportJob", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.ImportTemplate", "ImportTemplate")
                        .WithMany("ImportJobs")
                        .HasForeignKey("ImportTemplateId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("ImportTemplate");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Location", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "LocationTypeValue")
                        .WithMany()
                        .HasForeignKey("LocationTypeValueId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Location", "OverflowLocation")
                        .WithMany()
                        .HasForeignKey("OverflowLocationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Location", "ParentLocation")
                        .WithMany("ChildLocations")
                        .HasForeignKey("ParentLocationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("LocationTypeValue");

                    b.Navigation("OverflowLocation");

                    b.Navigation("ParentLocation");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PagerAssignment", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Attendance", "Attendance")
                        .WithMany()
                        .HasForeignKey("AttendanceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Campus", "Campus")
                        .WithMany()
                        .HasForeignKey("CampusId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Location", "Location")
                        .WithMany()
                        .HasForeignKey("LocationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Attendance");

                    b.Navigation("Campus");

                    b.Navigation("Location");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PagerMessage", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.PagerAssignment", "PagerAssignment")
                        .WithMany("Messages")
                        .HasForeignKey("PagerAssignmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Person", "SentByPerson")
                        .WithMany()
                        .HasForeignKey("SentByPersonId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("PagerAssignment");

                    b.Navigation("SentByPerson");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Person", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "ConnectionStatusValue")
                        .WithMany()
                        .HasForeignKey("ConnectionStatusValueId");

                    b.HasOne("Koinon.Domain.Entities.BinaryFile", "Photo")
                        .WithMany()
                        .HasForeignKey("PhotoId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Campus", "PrimaryCampus")
                        .WithMany()
                        .HasForeignKey("PrimaryCampusId");

                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "RecordStatusValue")
                        .WithMany()
                        .HasForeignKey("RecordStatusValueId");

                    b.Navigation("ConnectionStatusValue");

                    b.Navigation("Photo");

                    b.Navigation("PrimaryCampus");

                    b.Navigation("RecordStatusValue");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PersonAlias", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Person", null)
                        .WithMany("PersonAliases")
                        .HasForeignKey("PersonId1");

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PersonSecurityRole", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.SecurityRole", "SecurityRole")
                        .WithMany("PersonRoles")
                        .HasForeignKey("SecurityRoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Person");

                    b.Navigation("SecurityRole");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PhoneNumber", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.DefinedValue", "NumberTypeValue")
                        .WithMany()
                        .HasForeignKey("NumberTypeValueId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany("PhoneNumbers")
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("NumberTypeValue");

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PickupLog", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Attendance", "Attendance")
                        .WithMany()
                        .HasForeignKey("AttendanceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.AuthorizedPickup", "AuthorizedPickup")
                        .WithMany("PickupLogs")
                        .HasForeignKey("AuthorizedPickupId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Person", "ChildPerson")
                        .WithMany()
                        .HasForeignKey("ChildPersonId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.Person", "PickupPerson")
                        .WithMany()
                        .HasForeignKey("PickupPersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Koinon.Domain.Entities.Person", "SupervisorPerson")
                        .WithMany()
                        .HasForeignKey("SupervisorPersonId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Attendance");

                    b.Navigation("AuthorizedPickup");

                    b.Navigation("ChildPerson");

                    b.Navigation("PickupPerson");

                    b.Navigation("SupervisorPerson");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.RefreshToken", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.RoleSecurityClaim", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.SecurityClaim", "SecurityClaim")
                        .WithMany("RoleClaims")
                        .HasForeignKey("SecurityClaimId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Koinon.Domain.Entities.SecurityRole", "SecurityRole")
                        .WithMany("RoleClaims")
                        .HasForeignKey("SecurityRoleId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("SecurityClaim");

                    b.Navigation("SecurityRole");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SupervisorAuditLog", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Koinon.Domain.Entities.SupervisorSession", "SupervisorSession")
                        .WithMany()
                        .HasForeignKey("SupervisorSessionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.Navigation("Person");

                    b.Navigation("SupervisorSession");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SupervisorSession", b =>
                {
                    b.HasOne("Koinon.Domain.Entities.Person", "Person")
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Person");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AttendanceCode", b =>
                {
                    b.Navigation("Attendances");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AttendanceOccurrence", b =>
                {
                    b.Navigation("Attendances");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.AuthorizedPickup", b =>
                {
                    b.Navigation("PickupLogs");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Campus", b =>
                {
                    b.Navigation("Groups");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Communication", b =>
                {
                    b.Navigation("Recipients");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Contribution", b =>
                {
                    b.Navigation("ContributionDetails");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ContributionBatch", b =>
                {
                    b.Navigation("Contributions");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.DefinedType", b =>
                {
                    b.Navigation("DefinedValues");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Device", b =>
                {
                    b.Navigation("Attendances");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Family", b =>
                {
                    b.Navigation("Members");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Fund", b =>
                {
                    b.Navigation("ChildFunds");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Group", b =>
                {
                    b.Navigation("ChildGroups");

                    b.Navigation("GroupSchedules");

                    b.Navigation("MemberRequests");

                    b.Navigation("Members");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.GroupType", b =>
                {
                    b.Navigation("Groups");

                    b.Navigation("Roles");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.ImportTemplate", b =>
                {
                    b.Navigation("ImportJobs");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Location", b =>
                {
                    b.Navigation("ChildLocations");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.PagerAssignment", b =>
                {
                    b.Navigation("Messages");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Person", b =>
                {
                    b.Navigation("FamilyMemberships");

                    b.Navigation("GroupMemberships");

                    b.Navigation("PersonAliases");

                    b.Navigation("PhoneNumbers");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.Schedule", b =>
                {
                    b.Navigation("GroupSchedules");

                    b.Navigation("Groups");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SecurityClaim", b =>
                {
                    b.Navigation("RoleClaims");
                });

            modelBuilder.Entity("Koinon.Domain.Entities.SecurityRole", b =>
                {
                    b.Navigation("PersonRoles");

                    b.Navigation("RoleClaims");
                });
#pragma warning restore 612, 618
        }
    }
}
